(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{143:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return b}));var i=n(2),a=n(9),o=(n(0),n(166)),s={id:"getting-started",title:"Getting started with MuxFM Glue"},l={id:"glue/getting-started",title:"Getting started with MuxFM Glue",description:"Introduction",source:"@site/docs/glue/getting-started.md",permalink:"/docs/glue/getting-started",editUrl:"https://github.com/muxfm/docs/edit/master/docs/glue/getting-started.md",sidebar:"someSidebar",previous:{title:"Styleguide",permalink:"/docs/styleguide"},next:{title:"Getting started with MuxFM Site",permalink:"/docs/site/getting-started"}},r=[{value:"Introduction",id:"introduction",children:[]},{value:"Installation",id:"installation",children:[]},{value:"Build Process",id:"build-process",children:[{value:"Feed Transformation",id:"feed-transformation",children:[]},{value:"JSON API",id:"json-api",children:[]}]},{value:"Exposing end-points via Github Pages",id:"exposing-end-points-via-github-pages",children:[]}],c={rightToc:r};function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(i.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"introduction"},"Introduction"),Object(o.b)("p",null,"Glue helps you convert your Anchor FM podcast feed into a JSON API. This API is then used to generate a static site."),Object(o.b)("p",null,"It also replaces the epidsode links inside the feed, to point to your static site instead of Anchor. Github Actions are used for the transformation."),Object(o.b)("h2",{id:"installation"},"Installation"),Object(o.b)("p",null,"After you've created your Anchor account and podcast, you can get started with MuxFM Glue."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Clone the ",Object(o.b)("inlineCode",{parentName:"li"},"muxfm/glue")," project: ",Object(o.b)("a",Object(i.a)({parentName:"li"},{href:"https://github.com/muxfm/glue"}),"https://github.com/muxfm/glue")),Object(o.b)("li",{parentName:"ol"},"Setup required secrets")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"ANCHOR_USERNAME")," is your Anchor username"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"SITE_BASE")," is your website's base URL with no trailing slash, ex: ",Object(o.b)("a",Object(i.a)({parentName:"li"},{href:"https://muxfmcast.com"}),"https://muxfmcast.com"))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Open a new issue in the GitHub repository (this will be issue #1)"),Object(o.b)("li",{parentName:"ol"},"If you comment ",Object(o.b)("inlineCode",{parentName:"li"},"build")," on this issue, GitHub Actions will trigger a build")),Object(o.b)("h2",{id:"build-process"},"Build Process"),Object(o.b)("p",null,"When you comment ",Object(o.b)("inlineCode",{parentName:"p"},"build")," on the first issue, Glue starts the build process. "),Object(o.b)("p",null,"It starts by fetching the public podcast page hosted at ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"https://anchor.fm/muxfmcast"}),"https://anchor.fm/muxfmcast"),". ",Object(o.b)("inlineCode",{parentName:"p"},"muxfmcast")," is the username set in ",Object(o.b)("inlineCode",{parentName:"p"},"ANCHOR_USERNAME")," secret."),Object(o.b)("h3",{id:"feed-transformation"},"Feed Transformation"),Object(o.b)("p",null,"The html source of this page is parsed to figure out the podcast xml feed url. The feed is downloaded to a temporary folder. Glue then replaces links pointing to Anchor FM, with links that point to your site. "),Object(o.b)("p",null,"If the feed from Anchor had the following link:"),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),"<link>https://anchor.fm/couples-therapy/episodes/Coming-Soon-Couples-Therapy-e1dcek</link>\n")),Object(o.b)("p",null,"The transformed feed will reflect your site instead of Anchor:"),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),"<link>https://muxfmcast.com/episodes/Coming-Soon-Couples-Therapy-e1dcek</link>\n")),Object(o.b)("p",null,"This link doesn't exist obviously, but you need to create it. You can use the provided ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"https://github.com/muxfm/site"}),"site")," which takes care of the links automatically. You can also use the ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"https://github.com/muxfm/ui"}),"ui")," components, to create a site from scratch."),Object(o.b)("h3",{id:"json-api"},"JSON API"),Object(o.b)("p",null,"After transforming the feed, Glue proceeds to create a JSON API. This API exposes three entities:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"Meta")," - The name, url, profile photo etc of the podcast itself"),Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"Episodes Index")," - The list of each episode"),Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"Individual Episode")," - All info about a single episode")),Object(o.b)("p",null,"The entities are computed from the feed and saved as JSON files on the ",Object(o.b)("inlineCode",{parentName:"p"},"gh-pages")," branch. "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Meta data is available at ",Object(o.b)("inlineCode",{parentName:"li"},"/meta.json")),Object(o.b)("li",{parentName:"ol"},"Episodes index is at ",Object(o.b)("inlineCode",{parentName:"li"},"/episodes/index.json")," and "),Object(o.b)("li",{parentName:"ol"},"Individual episodes can be found at ",Object(o.b)("inlineCode",{parentName:"li"},"/episodes/<slug>.json"))),Object(o.b)("p",null,"The slug for each episode is present as a key-value pair in ",Object(o.b)("inlineCode",{parentName:"p"},"index.json"),"."),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"NOTE: You need to comment ",Object(o.b)("inlineCode",{parentName:"em"},"build")," on the first issue each time you publish a new episode on Anchor.")),Object(o.b)("h2",{id:"exposing-end-points-via-github-pages"},"Exposing end-points via Github Pages"),Object(o.b)("p",null,"To consume the generated API, you need to enable Github Pages on the ",Object(o.b)("inlineCode",{parentName:"p"},"gh-pages")," branch. If your repo address is ",Object(o.b)("inlineCode",{parentName:"p"},"https://github.com/ux0/glue"),", then your API will be available at ",Object(o.b)("inlineCode",{parentName:"p"},"ux0.github.io/glue/meta.json"),"."),Object(o.b)("p",null,"Once the API starts working, you can start configuring the site."))}b.isMDXComponent=!0}}]);